
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>INFO 474 Washington Weather Report</title>
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/main.css" rel="stylesheet" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.1/jquery.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
    
    <!--leaflet references-->
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    
    <script src="./js/jquery-1.12.4.js"></script>
    <script src="./js/jquery-ui.js"></script>
    <script src="./js/angular.js"></script>
    <script src="./js/slider.js"></script>
    <link rel="stylesheet" href="./css/jquery-ui.css">

    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/map.js"></script>
  </head>
  <body>
    <!--<div class="container text-center">-->
      
    <h1><b>INFO 474 Final Project<b></h1><br>
    <!--<div class="container">-->
    <p id="intro">
        In Washington State, we have a special dependence on our mountains. More specifically, we depend on glaciers in the mountains. Glaciers are large masses of ice that were formed long ago through a buildup of snow and ultimately ice. Despite their large size, glaciers are actually capable of slowly moving!<br><br>

        The Natural Resources Conservation Service (NRCS) keeps several SNOTEL (snow telemetry) sensors to track total precipitation accumulation near glaciers and mountains around Washington State. Accumulation is particularly important to Washington State; a major source of our drinking water is snowmelt. This same water is first used in the production of hydroelectricity - Washington state produced 30% of the nations net hydroelectricity in 2014! <br><br>

        Recent climate changes have greatly affected snowfall and overall snowpack size, which has implications for mountain enthusiasts (skiiers, snowboarders, or snowtrekkers) in addition to all residents of Washington State. Our tool here sources SNOTEL data from the NRCS to allow you to visualize these changes. There are 50 sensors available to you and the data can stretch back as far as 1976. <br><br>

        Interested yet? If so, we hope you look at the resources provided by the <a href="http://www.ecy.wa.gov/climatechange/washington.htm">Washington State Department of Ecology</a>. You can support clean care emission standards, or support policies targeted towards enforcing green building standards in Seattle. We hope you take action and help us keep Washington State's iconic mountains white!


    </p>
    <p>
        <label for="amount1">Year:</label>
        <input type="text" class="amount1" readonly style="border:0; color:#f6931f; font-weight:bold;">
        <div id="slider"></div>
    </p>
    
    <div id="year"></div>
    
    <p>
        <label for="amount2">Month:</label>
        <input type="text" class="amount2" readonly style="border:0; color:#f6931f; font-weight:bold;">
    </p>
        
    <div id="month"></div> 
    
    <p>
        <label for="amount3">Day:</label>
        <input type="text" class="amount3" readonly style="border:0; color:#f6931f; font-weight:bold;">
    </p>
       
    <div id="day"></div>    


    <br>
    <div id='button'>
      <div class="btn-group" id="list1">
        <label class="btn btn-primary active">
        <input value="Year" class="school" name="school" type="radio" ng-model="year" autocomplete="off" checked>Year
        </label>
        <label class="btn btn-primary">
        <input value="Month" class="school" name="school" type="radio" autocomplete="off">Month
        </label>
        <label class="btn btn-primary">
        <input value="Day" class="school" name="school" type="radio" autocomplete="off">Day
        </label>
      </div>
      <div class="btn-group" id="list2">
        <label class="btn btn-primary active">
        <input class='year' value="Both" name="year" type="radio" autocomplete="off" checked>Both
        </label>
        <label class="btn btn-primary">
        <input class='year' value="Temperature" name="year" type="radio" autocomplete="off">Temperature
        </label>
        <label class="btn btn-primary">
        <input class='year' value="Precipitation" name="year" type="radio" autocomplete="off">Precipitation
        </label>
      </div>
    </div>
    <br>
    <section id="sandbox">
      <div class="container" id="vis">
      </div>
      <div class="container2" id="container2" style="width:1200px; height:600px;">

    </section>
    
    <div id='playpause'>
        <button id="playButton" type="button" class="btn btn-default btn-xs">
          <span class="glyphicon glyphicon-play"></span>
        </button>
        <button id="pauseButton" type="button" class="btn btn-default btn-xs">
          <span class="glyphicon glyphicon-pause"></span>
        </button>    
    </div>

    <div class="display col-md-3">
                <h4>Overall Data for Range</h4>
                <p>Precipitation (Year):</p> <br>
                <p>Temperature (Year):</p> <br>
                <p>Yearly Average: </p><br>
                <p>Yearly Average 2015:</p> <br>
    </div>
    
    <div class="col-md-4 col-md-offset-1">
        <h2>Range</h2>
        <input type="text" class="amount1 text-center" readonly style="border:0;"><br>
        <input type="text" class="amount2 text-center" readonly style="border:0;"><br>
        <input type="text" class="amount3 text-center" readonly style="border:0;"><br>
    </div>
    
    <div class="display col-md-3 col-md-offset-1">
        <h4>Specific Sensor Data for <br><span id="sensor">North Cascades Sensor #3410</span> </h4>
        <p>Precipitation (Year):</p> <br>
        <p>Temperature (Year):</p> <br>
        <p>Yearly Average:</p> <br>
        <p>Yearly Average 2015: </p><br>
    </div>
    

    
        <script>
        $(function() {
            $( "#year" ).slider({
            range: true,
            min: 2000,
            max: 2015,
            values: [ 2002, 2010 ],
            slide: function( event, ui ) {
                $( ".amount1" ).val(ui.values[ 0 ] + " - " + ui.values[ 1 ] );
            },
            change: function(event, ui) {
                redraw($("#year").slider("values", 0), $("#year").slider("values", 1));
            }
            });
            $( ".amount1" ).val($( "#year" ).slider( "values", 0 ) +
            " - " + $( "#year" ).slider( "values", 1 ) );
        });
        
        $(function() {                
            
            /*********SLIDER Convert Integers to Month names */
            getMonthName = function (v) {
                var n = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                return n[v]
            }
            
            var d = new Date();
            
            var print = function (val) {
                document.body.innerHTML = document.body.innerHTML + "<br />" + val
            }
            /***********************************/
            
            $( "#month" ).slider({
            range: true,
            min: 1,
            max: 12,
            values: [ 3, 6 ],
            slide: function( event, ui ) {
                
                $( ".amount2" ).val(  getMonthName(ui.values[ 0 ] - 1) + " - " + getMonthName(ui.values[ 1 ] - 1) );

            },
            change: function(event, ui) {
                redraw($("#month").slider("values", 0), $("#month").slider("values", 1));
            }
            });
            
            var month1Val = $( "#month" ).slider( "values", 0 );
            var month1Display = getMonthName(month1Val - 1);
            var month2Val = $( "#month" ).slider( "values", 1 );
            var month2Display = getMonthName(month2Val - 1);
            
            
            $( ".amount2" ).val(
                month1Display + " - " + month2Display 
            );



            });

            
        $(function() {
            $( "#day" ).slider({
            range: true,
            min: 1,
            max: 31,
            values: [ 3, 12 ],
            slide: function( event, ui ) {
                $( ".amount3" ).val(ui.values[ 0 ] + " - " + ui.values[ 1 ] );
            },
            change: function(event, ui) {
                redraw($("#day").slider("values", 0), $("#day").slider("values", 1));
            }
            });
            $( ".amount3" ).val($( "#day" ).slider( "values", 0 ) +
            " - " + $( "#day" ).slider( "values", 1 ) );
        });
        
        var redraw = function(value1, value2) {
            //
            console.log($('input[name=school]:checked').val());
            console.log($('input[name=year]:checked').val());
            console.log(value1);
            console.log(value2);
        }
        
  </script>
  
      <div class="container2" id="container2" style="width:900px; height:600px;" style="text-align:center">
      </div>
    
  </body>
</html>